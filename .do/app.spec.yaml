spec:
  name: memory-game-backend
  region: fra

  services:
    - name: backend
      dockerfile_path: Dockerfile
      source_dir: backend
      http_port: 8000
      instance_count: 1
      instance_size_slug: basic-xxs
      routes:
        - path: /
      envs:
        - key: DATABASE_URL
          scope: RUN_AND_BUILD_TIME
          type: SECRET
        - key: JWT_SECRET
          scope: RUN_AND_BUILD_TIME
          type: SECRET
        - key: NODE_ENV
          value: production
        - key: PORT
          value: "8000"
        - key: FRONTEND_URL
          value: "https://memory.lorenzboss.com"
      health_check:
        http_path: /health
